"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[73320],{10203:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"rails/layouts/advanced/custom_lookup_context_for_layout","title":"custom_lookup_context_for_layout","description":"\ud83d\udd0d Custom Lookup Context for Layout Fallbacks","source":"@site/docs/rails/layouts/advanced/custom_lookup_context_for_layout.md","sourceDirName":"rails/layouts/advanced","slug":"/rails/layouts/advanced/custom_lookup_context_for_layout","permalink":"/keep-being-human-dev/docs/rails/layouts/advanced/custom_lookup_context_for_layout","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rails/layouts/advanced/custom_lookup_context_for_layout.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"scoped_view_translations","permalink":"/keep-being-human-dev/docs/rails/i18n/middle/scoped_view_translations"},"next":{"title":"dynamic_layout_selection","permalink":"/keep-being-human-dev/docs/rails/layouts/advanced/dynamic_layout_selection"}}');var a=o(23420),s=o(65404);const l={},r=void 0,i={},u=[{value:"\ud83d\udd0d Custom Lookup Context for Layout Fallbacks",id:"-custom-lookup-context-for-layout-fallbacks",level:2}];function c(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"-custom-lookup-context-for-layout-fallbacks",children:"\ud83d\udd0d Custom Lookup Context for Layout Fallbacks"}),"\n",(0,a.jsxs)(t.p,{children:["Override layout lookup to provide fallbacks or multi-tenant support. Extend ",(0,a.jsx)(t.code,{children:"lookup_context.find_all"})," to search additional paths before defaulting to ",(0,a.jsx)(t.code,{children:"application"})," layout."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-ruby",children:"# lib/multi_tenant_layouts.rb\nmodule MultiTenantLayouts\n  def find_all(name, prefixes = [], *rest)\n    tenant = request.subdomains.first\n    super([\"layouts/#{tenant}/#{name}\", name], prefixes, *rest)\n  end\nend\n\n# config/initializers/layout_lookup.rb\nActionController::Base.prepend_view_path Rails.root.join('app', 'views')\nActionController::Base.lookup_context.singleton_class.prepend(MultiTenantLayouts)\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Now Rails attempts ",(0,a.jsx)(t.code,{children:"app/views/layouts/tenant_name/application.html.erb"})," first, then falls back to the default, enabling tenant-specific theming seamlessly."]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},65404:(e,t,o)=>{o.d(t,{R:()=>l,x:()=>r});var n=o(36672);const a={},s=n.createContext(a);function l(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);