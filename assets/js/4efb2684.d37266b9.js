"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[92130],{65404:(t,e,n)=>{n.d(e,{R:()=>i,x:()=>l});var s=n(36672);const r={},o=s.createContext(r);function i(t){const e=s.useContext(o);return s.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function l(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:i(t.components),s.createElement(o.Provider,{value:e},t.children)}},80249:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"javascript/stimulus/middle/testing_controllers_with_jest","title":"testing_controllers_with_jest","description":"\ud83e\uddea Testing Controllers with Jest","source":"@site/docs/javascript/stimulus/middle/testing_controllers_with_jest.md","sourceDirName":"javascript/stimulus/middle","slug":"/javascript/stimulus/middle/testing_controllers_with_jest","permalink":"/keep-being-human-dev/docs/javascript/stimulus/middle/testing_controllers_with_jest","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/javascript/stimulus/middle/testing_controllers_with_jest.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nested_targets","permalink":"/keep-being-human-dev/docs/javascript/stimulus/middle/nested_targets"},"next":{"title":"theming_with_data_controllers","permalink":"/keep-being-human-dev/docs/javascript/stimulus/middle/theming_with_data_controllers"}}');var r=n(23420),o=n(65404);const i={},l=void 0,c={},a=[{value:"\ud83e\uddea Testing Controllers with Jest",id:"-testing-controllers-with-jest",level:2}];function d(t){const e={code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"-testing-controllers-with-jest",children:"\ud83e\uddea Testing Controllers with Jest"}),"\n",(0,r.jsx)(e.p,{children:"Write unit tests for Stimulus controllers by mocking the HTML structure and invoking lifecycle callbacks. Use JSDOM to simulate the DOM in Jest."}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:'import { Application } from "@hotwired/stimulus"\nimport MyController from "../controllers/my_controller"\n\ndocument.body.innerHTML = ` <div data-controller="my" data-my-value="5"></div> `\n\nconst application = Application.start()\napplication.register("my", MyController)\n\ntest("increments count on connect", () => {\n  const el = document.querySelector("[data-controller=my]")\n  const controller = application.getControllerForElementAndIdentifier(el, "my")\n  controller.increment()\n  expect(el.textContent).toContain("Count: 1")\n})\n'})})]})}function u(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(d,{...t})}):d(t)}}}]);