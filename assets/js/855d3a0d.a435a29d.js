"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[29513],{65404:(e,r,t)=>{t.d(r,{R:()=>a,x:()=>c});var n=t(36672);const o={},s=n.createContext(o);function a(e){const r=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),n.createElement(s.Provider,{value:r},e.children)}},84149:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>p,contentTitle:()=>c,default:()=>l,frontMatter:()=>a,metadata:()=>n,toc:()=>i});const n=JSON.parse('{"id":"gems/flipper/advanced/custom_actor_groups","title":"custom_actor_groups","description":"\ud83d\udd27 Define Custom Actor Groups for Granular Control","source":"@site/docs/gems/flipper/advanced/custom_actor_groups.md","sourceDirName":"gems/flipper/advanced","slug":"/gems/flipper/advanced/custom_actor_groups","permalink":"/keep-being-human-dev/docs/gems/flipper/advanced/custom_actor_groups","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/gems/flipper/advanced/custom_actor_groups.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"consistent_percentage_rollout","permalink":"/keep-being-human-dev/docs/gems/flipper/advanced/consistent_percentage_rollout"},"next":{"title":"flipper_basic_toggle","permalink":"/keep-being-human-dev/docs/gems/flipper/beginner/flipper_basic_toggle"}}');var o=t(23420),s=t(65404);const a={},c=void 0,p={},i=[{value:"\ud83d\udd27 Define Custom Actor Groups for Granular Control",id:"-define-custom-actor-groups-for-granular-control",level:2}];function u(e){const r={code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.h2,{id:"-define-custom-actor-groups-for-granular-control",children:"\ud83d\udd27 Define Custom Actor Groups for Granular Control"}),"\n",(0,o.jsx)(r.p,{children:"Built\u2011in groups cover simple cases, but you can register any predicate to target feature flags by business logic. This allows, for example, toggling features only for enterprise customers or users with specific traits."}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ruby",children:"# config/initializers/flipper_groups.rb\nFlipper.register(:enterprise_account) do |actor|\n  next false unless actor.respond_to?(:account)\n  actor.account&.tier == 'enterprise'\nend\n\nFlipper.register(:beta_tester) do |actor|\n  actor.respond_to?(:beta_opt_in?) && actor.beta_opt_in?\nend\n\n# Enable feature for all enterprise accounts and 50% of beta testers\nenable_group = Flipper.group(:enterprise_account)\nenable_group_beta = Flipper.group(:beta_tester)\nFlipper.enable(:advanced_reports, enable_group)\nFlipper.enable_percentage_of_actors(:advanced_reports, 50, gate: :beta_tester)\n"})})]})}function l(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}}}]);