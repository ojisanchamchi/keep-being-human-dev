"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[16288],{51076:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"rails/action_cable/expert/redis_scaling_namespace_isolation","title":"redis_scaling_namespace_isolation","description":"\ud83d\udcc8 Scale Action Cable with Redis Cluster and Namespace Isolation","source":"@site/docs/rails/action_cable/expert/redis_scaling_namespace_isolation.md","sourceDirName":"rails/action_cable/expert","slug":"/rails/action_cable/expert/redis_scaling_namespace_isolation","permalink":"/keep-being-human-dev/docs/rails/action_cable/expert/redis_scaling_namespace_isolation","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rails/action_cable/expert/redis_scaling_namespace_isolation.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"metrics_instrumentation","permalink":"/keep-being-human-dev/docs/rails/action_cable/expert/metrics_instrumentation"},"next":{"title":"cleanup_streams_on_unsubscribe","permalink":"/keep-being-human-dev/docs/rails/action_cable/middle/cleanup_streams_on_unsubscribe"}}');var i=a(23420),t=a(65404);const c={},r=void 0,o={},l=[{value:"\ud83d\udcc8 Scale Action Cable with Redis Cluster and Namespace Isolation",id:"-scale-action-cable-with-redis-cluster-and-namespace-isolation",level:2}];function d(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"-scale-action-cable-with-redis-cluster-and-namespace-isolation",children:"\ud83d\udcc8 Scale Action Cable with Redis Cluster and Namespace Isolation"}),"\n",(0,i.jsx)(n.p,{children:"When operating in a multi\u2011pod or multi\u2011instance setup, use a Redis Cluster for horizontal scaling and namespace isolation to avoid cross\u2011talk between environments or features. You can configure multiple Redis endpoints and inject a custom namespace per feature or environment to segment pub/sub traffic, reducing channel collisions and optimizing memory usage."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# config/cable.yml\nproduction:\n  adapter: redis\n  url:\n    - redis://10.0.0.1:6379/1\n    - redis://10.0.0.2:6379/1\n    - redis://10.0.0.3:6379/1\n  channel_prefix: "myapp_#{Rails.env}_action_cable"\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ruby",children:'# config/initializers/redis.rb\nif Rails.env.production?\n  ActionCable.server.config.pubsub_adapter = :redis\n  ActionCable.server.config.redis = {\n    url: ENV.fetch("REDIS_URL"),\n    ssl_params: { verify_mode: OpenSSL::SSL::VERIFY_PEER },\n    namespace: "#{Rails.application.class.module_parent_name.downcase}_#{Rails.env}_ac"\n  }\nend\n'})}),"\n",(0,i.jsxs)(n.p,{children:["This setup ensures each cluster node participates in the pub/sub ring, and the ",(0,i.jsx)(n.code,{children:"namespace"})," isolates channels per environment or feature, making scaling predictable and safe."]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},65404:(e,n,a)=>{a.d(n,{R:()=>c,x:()=>r});var s=a(36672);const i={},t=s.createContext(i);function c(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);