"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[20869],{88:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>l,frontMatter:()=>o,metadata:()=>t,toc:()=>i});const t=JSON.parse('{"id":"gems/rspec/mocks_and_stubs/advanced/instance_double_interface","title":"instance_double_interface","description":"\ud83e\uddea Enforce Interface with instance_double","source":"@site/docs/gems/rspec/mocks_and_stubs/advanced/instance_double_interface.md","sourceDirName":"gems/rspec/mocks_and_stubs/advanced","slug":"/gems/rspec/mocks_and_stubs/advanced/instance_double_interface","permalink":"/keep-being-human-dev/docs/gems/rspec/mocks_and_stubs/advanced/instance_double_interface","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/gems/rspec/mocks_and_stubs/advanced/instance_double_interface.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"verifying_partial_doubles","permalink":"/keep-being-human-dev/docs/gems/rspec/middle/verifying_partial_doubles"},"next":{"title":"nested_doubles_for_complex_dependencies","permalink":"/keep-being-human-dev/docs/gems/rspec/mocks_and_stubs/advanced/nested_doubles_for_complex_dependencies"}}');var c=s(23420),a=s(65404);const o={},r=void 0,d={},i=[{value:"\ud83e\uddea Enforce Interface with <code>instance_double</code>",id:"-enforce-interface-with-instance_double",level:2}];function u(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(n.h2,{id:"-enforce-interface-with-instance_double",children:["\ud83e\uddea Enforce Interface with ",(0,c.jsx)(n.code,{children:"instance_double"})]}),"\n",(0,c.jsxs)(n.p,{children:["Using ",(0,c.jsx)(n.code,{children:"instance_double"})," helps you catch typos and ensure your test doubles adhere to the real object\u2019s public interface. By verifying against the actual class, you avoid scenarios where your mocks drift out of sync with production code."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ruby",children:'# Verifies User responds to :name and :email\nuser_double = instance_double("User", name: "Alice", email: "alice@example.com")\nallow(User).to receive(:find).with(1).and_return(user_double)\n\nexpect(User.find(1).email).to eq("alice@example.com")\n'})})]})}function l(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(u,{...e})}):u(e)}},65404:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>r});var t=s(36672);const c={},a=t.createContext(c);function o(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);