"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[2132],{65404:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>t});var i=n(36672);const o={},d=i.createContext(o);function r(e){const s=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(d.Provider,{value:s},e.children)}},86351:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>t,default:()=>l,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"rails/sessions_and_cookies/middle/use_signed_encrypted_cookies","title":"use_signed_encrypted_cookies","description":"\ud83d\udd12 Use Signed and Encrypted Cookies","source":"@site/docs/rails/sessions_and_cookies/middle/use_signed_encrypted_cookies.md","sourceDirName":"rails/sessions_and_cookies/middle","slug":"/rails/sessions_and_cookies/middle/use_signed_encrypted_cookies","permalink":"/keep-being-human-dev/docs/rails/sessions_and_cookies/middle/use_signed_encrypted_cookies","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rails/sessions_and_cookies/middle/use_signed_encrypted_cookies.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"store_cart_in_session","permalink":"/keep-being-human-dev/docs/rails/sessions_and_cookies/middle/store_cart_in_session"},"next":{"title":"dynamic_vcr_cassettes","permalink":"/keep-being-human-dev/docs/rails/testing/advanced/dynamic_vcr_cassettes"}}');var o=n(23420),d=n(65404);const r={},t=void 0,c={},a=[{value:"\ud83d\udd12 Use Signed and Encrypted Cookies",id:"-use-signed-and-encrypted-cookies",level:2}];function u(e){const s={code:"code",h2:"h2",p:"p",pre:"pre",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.h2,{id:"-use-signed-and-encrypted-cookies",children:"\ud83d\udd12 Use Signed and Encrypted Cookies"}),"\n",(0,o.jsxs)(s.p,{children:["Rails provides signed and encrypted cookies to ensure data integrity and confidentiality. Signed cookies store data with a digital signature to detect tampering, while encrypted cookies add an extra layer of encryption. Use ",(0,o.jsx)(s.code,{children:"cookies.signed"})," or ",(0,o.jsx)(s.code,{children:"cookies.encrypted"})," to safely persist small user preferences or tokens."]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-ruby",children:"# Set a signed cookie for user_id\ncookies.signed[:user_id] = { value: current_user.id, expires: 1.hour.from_now }\n\n# Retrieve and verify\ndeclared_user_id = cookies.signed[:user_id]\nuser = User.find_by(id: declared_user_id) if declared_user_id\n\n# Set an encrypted cookie for a preference\ncookies.encrypted[:theme] = { value: 'dark_mode', expires: 7.days.from_now }\ntheme = cookies.encrypted[:theme]\n"})})]})}function l(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}}}]);