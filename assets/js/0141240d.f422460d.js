"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[17961],{35826:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"diagrams/aws-nodes/aws-analytics/athena","title":"Amazon Athena","description":"T\u1ed5ng quan","source":"@site/docs/diagrams/aws-nodes/aws-analytics/03-athena.md","sourceDirName":"diagrams/aws-nodes/aws-analytics","slug":"/diagrams/aws-nodes/aws-analytics/athena","permalink":"/keep-being-human-dev/docs/diagrams/aws-nodes/aws-analytics/athena","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/diagrams/aws-nodes/aws-analytics/03-athena.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"AWS Analytics","permalink":"/keep-being-human-dev/docs/diagrams/aws-nodes/aws-analytics/analytics"},"next":{"title":"CloudSearch Search Documents","permalink":"/keep-being-human-dev/docs/diagrams/aws-nodes/aws-analytics/cloudsearch-search-documents"}}');var r=i(23420),a=i(65404);const t={},l="Amazon Athena",c={},o=[{value:"T\u1ed5ng quan",id:"t\u1ed5ng-quan",level:2},{value:"Ch\u1ee9c n\u0103ng ch\xednh",id:"ch\u1ee9c-n\u0103ng-ch\xednh",level:2},{value:"1. Serverless Query Engine",id:"1-serverless-query-engine",level:3},{value:"2. SQL Support",id:"2-sql-support",level:3},{value:"3. Data Format Support",id:"3-data-format-support",level:3},{value:"4. Integration Capabilities",id:"4-integration-capabilities",level:3},{value:"Use Cases ph\u1ed5 bi\u1ebfn",id:"use-cases-ph\u1ed5-bi\u1ebfn",level:2},{value:"Diagram Architecture",id:"diagram-architecture",level:2},{value:"Code \u0111\u1ec3 t\u1ea1o diagram:",id:"code-\u0111\u1ec3-t\u1ea1o-diagram",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"1. Data Format Optimization",id:"1-data-format-optimization",level:3},{value:"2. Query Optimization",id:"2-query-optimization",level:3},{value:"3. Cost Optimization",id:"3-cost-optimization",level:3},{value:"Pricing Model",id:"pricing-model",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Security Features",id:"security-features",level:2},{value:"Limitations",id:"limitations",level:2},{value:"T\xedch h\u1ee3p v\u1edbi c\xe1c d\u1ecbch v\u1ee5 AWS kh\xe1c",id:"t\xedch-h\u1ee3p-v\u1edbi-c\xe1c-d\u1ecbch-v\u1ee5-aws-kh\xe1c",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"amazon-athena",children:"Amazon Athena"})}),"\n",(0,r.jsx)(e.h2,{id:"t\u1ed5ng-quan",children:"T\u1ed5ng quan"}),"\n",(0,r.jsx)(e.p,{children:"Amazon Athena l\xe0 m\u1ed9t d\u1ecbch v\u1ee5 truy v\u1ea5n t\u01b0\u01a1ng t\xe1c serverless gi\xfap b\u1ea1n d\u1ec5 d\xe0ng ph\xe2n t\xedch d\u1eef li\u1ec7u trong Amazon S3 b\u1eb1ng SQL chu\u1ea9n. Athena kh\xf4ng c\u1ea7n server, b\u1ea1n ch\u1ec9 tr\u1ea3 ti\u1ec1n cho c\xe1c truy v\u1ea5n m\xe0 b\u1ea1n ch\u1ea1y. D\u1ecbch v\u1ee5 n\xe0y \u0111\u01b0\u1ee3c x\xe2y d\u1ef1ng tr\xean Presto, m\u1ed9t c\xf4ng c\u1ee5 truy v\u1ea5n ph\xe2n t\xe1n m\xe3 ngu\u1ed3n m\u1edf."}),"\n",(0,r.jsx)(e.h2,{id:"ch\u1ee9c-n\u0103ng-ch\xednh",children:"Ch\u1ee9c n\u0103ng ch\xednh"}),"\n",(0,r.jsx)(e.h3,{id:"1-serverless-query-engine",children:"1. Serverless Query Engine"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Kh\xf4ng c\u1ea7n qu\u1ea3n l\xfd infrastructure"}),": Kh\xf4ng c\u1ea7n thi\u1ebft l\u1eadp hay qu\u1ea3n l\xfd server"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Auto Scaling"}),": T\u1ef1 \u0111\u1ed9ng m\u1edf r\u1ed9ng theo nhu c\u1ea7u truy v\u1ea5n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Pay-per-query"}),": Ch\u1ec9 tr\u1ea3 ti\u1ec1n cho d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c scan"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"2-sql-support",children:"2. SQL Support"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"ANSI SQL"}),": H\u1ed7 tr\u1ee3 SQL chu\u1ea9n ANSI"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Complex Queries"}),": Joins, window functions, arrays"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"User-defined Functions"}),": T\u1ea1o function t\xf9y ch\u1ec9nh"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"3-data-format-support",children:"3. Data Format Support"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Structured Data"}),": CSV, JSON, ORC, Parquet"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Semi-structured Data"}),": Nested JSON, XML"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Compressed Data"}),": GZIP, LZO, Snappy"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"4-integration-capabilities",children:"4. Integration Capabilities"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"AWS Glue Data Catalog"}),": Metadata management"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Amazon QuickSight"}),": Visualization"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"AWS Lambda"}),": Automated queries"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"use-cases-ph\u1ed5-bi\u1ebfn",children:"Use Cases ph\u1ed5 bi\u1ebfn"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Ad-hoc Analysis"}),": Ph\xe2n t\xedch d\u1eef li\u1ec7u t\u1ee9c th\u1eddi"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Log Analysis"}),": Ph\xe2n t\xedch log files t\u1eeb S3"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Data Lake Queries"}),": Truy v\u1ea5n data lake"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"ETL Validation"}),": Ki\u1ec3m tra ch\u1ea5t l\u01b0\u1ee3ng d\u1eef li\u1ec7u"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Business Reporting"}),": B\xe1o c\xe1o kinh doanh"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"diagram-architecture",children:"Diagram Architecture"}),"\n",(0,r.jsx)(e.p,{children:"Ki\u1ebfn tr\xfac \u0111i\u1ec3n h\xecnh s\u1eed d\u1ee5ng Amazon Athena:"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"Amazon Athena Data Analytics",src:i(58674).A+"",width:"1136",height:"2058"})}),"\n",(0,r.jsx)(e.h3,{id:"code-\u0111\u1ec3-t\u1ea1o-diagram",children:"Code \u0111\u1ec3 t\u1ea1o diagram:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'from diagrams import Diagram, Cluster, Edge\nfrom diagrams.aws.analytics import Athena, Glue, Quicksight\nfrom diagrams.aws.storage import S3\nfrom diagrams.aws.compute import Lambda\nfrom diagrams.aws.integration import SQS\nfrom diagrams.aws.database import RDS\nfrom diagrams.aws.management import Cloudwatch\nfrom diagrams.onprem.client import Users\n\nwith Diagram("Amazon Athena Data Analytics", show=False, direction="TB"):\n    \n    users = Users("Data Analysts")\n    \n    with Cluster("Data Sources"):\n        rds = RDS("Operational DB")\n        logs = S3("Application Logs")\n        raw_data = S3("Raw Data")\n    \n    with Cluster("Data Lake"):\n        s3_bronze = S3("Bronze Layer\\n(Raw)")\n        s3_silver = S3("Silver Layer\\n(Cleaned)")\n        s3_gold = S3("Gold Layer\\n(Aggregated)")\n    \n    with Cluster("Analytics Services"):\n        glue_catalog = Glue("Glue Data Catalog")\n        athena = Athena("Athena Query Engine")\n        quicksight = Quicksight("QuickSight BI")\n    \n    with Cluster("Automation"):\n        lambda_etl = Lambda("ETL Lambda")\n        queue = SQS("Query Queue")\n        monitoring = Cloudwatch("Query Monitoring")\n    \n    # Data ingestion flow\n    rds >> Edge(label="Export") >> s3_bronze\n    logs >> s3_bronze\n    raw_data >> s3_bronze\n    \n    # ETL processing\n    s3_bronze >> lambda_etl >> s3_silver\n    s3_silver >> lambda_etl >> s3_gold\n    \n    # Catalog and query\n    s3_gold >> glue_catalog\n    glue_catalog >> athena\n    \n    # User interaction\n    users >> Edge(label="SQL Queries") >> athena\n    athena >> Edge(label="Results") >> quicksight\n    quicksight >> Edge(label="Dashboards") >> users\n    \n    # Monitoring\n    athena >> Edge(label="Query Metrics") >> monitoring\n    queue >> Edge(label="Scheduled Queries") >> athena\n'})}),"\n",(0,r.jsx)(e.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,r.jsx)(e.h3,{id:"1-data-format-optimization",children:"1. Data Format Optimization"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Columnar Formats"}),": S\u1eed d\u1ee5ng Parquet ho\u1eb7c ORC"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Compression"}),": \xc1p d\u1ee5ng compression algorithms"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Partitioning"}),": Ph\xe2n v\xf9ng d\u1eef li\u1ec7u theo th\u1eddi gian ho\u1eb7c category"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"2-query-optimization",children:"2. Query Optimization"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Projection Pushdown"}),": Ch\u1ec9 select c\xe1c c\u1ed9t c\u1ea7n thi\u1ebft"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Predicate Pushdown"}),": S\u1eed d\u1ee5ng WHERE clause hi\u1ec7u qu\u1ea3"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Join Optimization"}),": T\u1ed1i \u01b0u th\u1ee9 t\u1ef1 join"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"3-cost-optimization",children:"3. Cost Optimization"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Data Compression"}),": Gi\u1ea3m l\u01b0\u1ee3ng d\u1eef li\u1ec7u scan"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Query Result Caching"}),": Cache k\u1ebft qu\u1ea3 truy v\u1ea5n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Lifecycle Policies"}),": T\u1ef1 \u0111\u1ed9ng archive d\u1eef li\u1ec7u c\u0169"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"pricing-model",children:"Pricing Model"}),"\n",(0,r.jsx)(e.p,{children:"Amazon Athena t\xednh ph\xed theo:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Data Scanned"}),": $5.00 per TB d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c scan"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"DDL Queries"}),": Mi\u1ec5n ph\xed cho CREATE, ALTER, DROP"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Failed Queries"}),": Kh\xf4ng t\xednh ph\xed cho queries b\u1ecb l\u1ed7i"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Use Columnar Formats"}),": Parquet gi\u1ea3m 30-90% chi ph\xed"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Partition Your Data"}),": Gi\u1ea3m l\u01b0\u1ee3ng d\u1eef li\u1ec7u scan"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Compress Your Data"}),": Gi\u1ea3m storage cost v\xe0 query time"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Use Appropriate Data Types"}),": T\u1ed1i \u01b0u performance"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Optimize JOIN Operations"}),": \u0110\u1eb7t b\u1ea3ng nh\u1ecf b\xean tr\xe1i"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"security-features",children:"Security Features"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"IAM Integration"}),": Ki\u1ec3m so\xe1t truy c\u1eadp b\u1eb1ng IAM"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"VPC Endpoints"}),": Truy c\u1eadp private qua VPC"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Encryption"}),": M\xe3 h\xf3a d\u1eef li\u1ec7u at-rest v\xe0 in-transit"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"CloudTrail Logging"}),": Audit trail cho queries"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"limitations",children:"Limitations"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Query Timeout"}),": Maximum 30 ph\xfat per query"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Result Set Size"}),": Maximum 1GB per query result"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Concurrent Queries"}),": Gi\u1edbi h\u1ea1n s\u1ed1 query \u0111\u1ed3ng th\u1eddi"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"DDL Operations"}),": M\u1ed9t s\u1ed1 operations kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"t\xedch-h\u1ee3p-v\u1edbi-c\xe1c-d\u1ecbch-v\u1ee5-aws-kh\xe1c",children:"T\xedch h\u1ee3p v\u1edbi c\xe1c d\u1ecbch v\u1ee5 AWS kh\xe1c"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"AWS Glue"}),": Data catalog v\xe0 ETL"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Amazon S3"}),": Data storage"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Amazon QuickSight"}),": Data visualization"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"AWS Lambda"}),": Query automation"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Amazon CloudWatch"}),": Monitoring v\xe0 alerting"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},58674:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/athena-analytics-05a119d0cec8caafdcf5883f309adb7e.png"},65404:(n,e,i)=>{i.d(e,{R:()=>t,x:()=>l});var s=i(36672);const r={},a=s.createContext(r);function t(n){const e=s.useContext(a);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),s.createElement(a.Provider,{value:e},n.children)}}}]);