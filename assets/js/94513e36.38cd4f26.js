"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[90213],{50952:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>i,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"sql/postgresql/expert/parallel_query_tuning","title":"parallel_query_tuning","description":"\u26a1 Tune Parallel Queries for Heavy Aggregations","source":"@site/docs/sql/postgresql/expert/parallel_query_tuning.md","sourceDirName":"sql/postgresql/expert","slug":"/sql/postgresql/expert/parallel_query_tuning","permalink":"/keep-being-human-dev/docs/sql/postgresql/expert/parallel_query_tuning","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/sql/postgresql/expert/parallel_query_tuning.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"logical_replication_setup","permalink":"/keep-being-human-dev/docs/sql/postgresql/expert/logical_replication_setup"},"next":{"title":"partition_pruning_and_wise_joins","permalink":"/keep-being-human-dev/docs/sql/postgresql/expert/partition_pruning_and_wise_joins"}}');var s=n(23420),a=n(65404);const l={},o=void 0,i={},p=[{value:"\u26a1 Tune Parallel Queries for Heavy Aggregations",id:"-tune-parallel-queries-for-heavy-aggregations",level:2}];function u(e){const r={code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h2,{id:"-tune-parallel-queries-for-heavy-aggregations",children:"\u26a1 Tune Parallel Queries for Heavy Aggregations"}),"\n",(0,s.jsxs)(r.p,{children:["For CPU-intensive queries over large tables, enabling and tuning parallel workers can yield substantial speedups. Adjust ",(0,s.jsx)(r.code,{children:"max_parallel_workers_per_gather"})," and monitor actual gather nodes in the plan to ensure effective usage."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sql",children:"-- Increase parallel workers per gather\nSET max_parallel_workers_per_gather = 4;\n\nEXPLAIN (ANALYZE, VERBOSE)\nSELECT region, SUM(sales)\nFROM orders\nWHERE order_date > now() - INTERVAL '30 days'\nGROUP BY region;\n"})})]})}function c(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},65404:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>o});var t=n(36672);const s={},a=t.createContext(s);function l(e){const r=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(a.Provider,{value:r},e.children)}}}]);