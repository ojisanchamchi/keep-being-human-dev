"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[42831],{65404:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>o});var s=i(36672);const a={},t=s.createContext(a);function r(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(t.Provider,{value:n},e.children)}},77945:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>p});const s=JSON.parse('{"id":"rails/engines_and_plugins/advanced/asset_pipeline_and_migrations_railtie","title":"asset_pipeline_and_migrations_railtie","description":"\ud83c\udfa8 Customize Engine Asset Pipeline and Migrations","source":"@site/docs/rails/engines_and_plugins/advanced/asset_pipeline_and_migrations_railtie.md","sourceDirName":"rails/engines_and_plugins/advanced","slug":"/rails/engines_and_plugins/advanced/asset_pipeline_and_migrations_railtie","permalink":"/keep-being-human-dev/docs/rails/engines_and_plugins/advanced/asset_pipeline_and_migrations_railtie","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rails/engines_and_plugins/advanced/asset_pipeline_and_migrations_railtie.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"migrate_existing_to_encrypted","permalink":"/keep-being-human-dev/docs/rails/encryption/middle/migrate_existing_to_encrypted"},"next":{"title":"custom_generator_extension","permalink":"/keep-being-human-dev/docs/rails/engines_and_plugins/advanced/custom_generator_extension"}}');var a=i(23420),t=i(65404);const r={},o=void 0,d={},p=[{value:"\ud83c\udfa8 Customize Engine Asset Pipeline and Migrations",id:"-customize-engine-asset-pipeline-and-migrations",level:2}];function l(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"-customize-engine-asset-pipeline-and-migrations",children:"\ud83c\udfa8 Customize Engine Asset Pipeline and Migrations"}),"\n",(0,a.jsx)(n.p,{children:"Hook into Rails initializers to automatically append your engine's migrations and assets to the host application. This ensures your engine behaves like a native part of the host app without manual copying."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ruby",children:"# lib/my_engine/engine.rb\nmodule MyEngine\n  class Engine < ::Rails::Engine\n    isolate_namespace MyEngine\n\n    # Precompile engine assets\n    initializer 'my_engine.assets.precompile' do |app|\n      app.config.assets.precompile += %w(\n        my_engine/*.js\n        my_engine/*.css\n      )\n    end\n\n    # Auto-append engine migrations\n    initializer 'my_engine.append_migrations' do |app|\n      next if app.root.to_s.match?(root.to_s)\n\n      config.paths['db/migrate'].expanded.each do |migrate_path|\n        app.config.paths['db/migrate'] << migrate_path\n      end\n    end\n  end\nend\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Now running ",(0,a.jsx)(n.code,{children:"rails assets:precompile"})," and ",(0,a.jsx)(n.code,{children:"rails db:migrate"})," will include your engine's assets and migrations seamlessly."]})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);