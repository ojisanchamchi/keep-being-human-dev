"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[28398],{47457:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"rails/mailers/expert/prioritized_async_delivery","title":"prioritized_async_delivery","description":"\ud83d\ude80 Prioritized Asynchronous Delivery","source":"@site/docs/rails/mailers/expert/prioritized_async_delivery.md","sourceDirName":"rails/mailers/expert","slug":"/rails/mailers/expert/prioritized_async_delivery","permalink":"/keep-being-human-dev/docs/rails/mailers/expert/prioritized_async_delivery","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rails/mailers/expert/prioritized_async_delivery.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"mailer_concerns_mixins","permalink":"/keep-being-human-dev/docs/rails/mailers/expert/mailer_concerns_mixins"},"next":{"title":"streaming_attachments_s3","permalink":"/keep-being-human-dev/docs/rails/mailers/expert/streaming_attachments_s3"}}');var n=r(23420),s=r(65404);const a={},o=void 0,c={},l=[{value:"\ud83d\ude80 Prioritized Asynchronous Delivery",id:"-prioritized-asynchronous-delivery",level:2}];function d(e){const i={code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h2,{id:"-prioritized-asynchronous-delivery",children:"\ud83d\ude80 Prioritized Asynchronous Delivery"}),"\n",(0,n.jsx)(i.p,{children:"Leverage ActiveJob\u2019s queueing system to schedule emails with different priorities, backoff strategies, and retry limits. By assigning specific queues and priority levels, you can prevent low\u2011priority batch mails from blocking critical notifications."}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-ruby",children:'# app/mailers/notification_mailer.rb\nclass NotificationMailer < ApplicationMailer\n  def urgent_notification(user)\n    mail(to: user.email, subject: "Urgent Update")\n  end\nend\n\n# Enqueue with high priority\nNotificationMailer\n  .urgent_notification(@user)\n  .deliver_later(wait: 1.minute, queue: "critical", priority: 1)\n\n# config/sidekiq.yml\n:queues:\n  - [critical, 10]\n  - [default, 5]\n  - [low_priority, 1]\n'})}),"\n",(0,n.jsxs)(i.p,{children:["This approach ensures urgent mails are processed first, while batch jobs fall back to ",(0,n.jsx)(i.code,{children:"low_priority"})," without starving the system."]})]})}function u(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},65404:(e,i,r)=>{r.d(i,{R:()=>a,x:()=>o});var t=r(36672);const n={},s=t.createContext(n);function a(e){const i=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),t.createElement(s.Provider,{value:i},e.children)}}}]);