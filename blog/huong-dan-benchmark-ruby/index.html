<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Hướng Dẫn Toàn Diện Về Benchmark Trong Ruby - Từ Cơ Bản Đến Chuyên Sâu | Keep Being Human</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ojisanchamchi.github.io/keep-being-human-dev/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ojisanchamchi.github.io/keep-being-human-dev/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ojisanchamchi.github.io/keep-being-human-dev/blog/huong-dan-benchmark-ruby/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Hướng Dẫn Toàn Diện Về Benchmark Trong Ruby - Từ Cơ Bản Đến Chuyên Sâu | Keep Being Human"><meta data-rh="true" name="description" content="Tối ưu hóa hiệu suất là một khía cạnh quan trọng trong phát triển Ruby, cho dù bạn đang xây dựng ứng dụng web, hệ thống xử lý dữ liệu, hay công cụ dòng lệnh. Hướng dẫn toàn diện này sẽ giúp bạn khám phá các khả năng benchmark của Ruby, từ đo lường thời gian cơ bản đến các kỹ thuật phân tích chuyên sâu. Đến cuối bài, bạn sẽ có một bộ công cụ đầy đủ để đo lường, so sánh và tối ưu hóa mã Ruby của mình."><meta data-rh="true" property="og:description" content="Tối ưu hóa hiệu suất là một khía cạnh quan trọng trong phát triển Ruby, cho dù bạn đang xây dựng ứng dụng web, hệ thống xử lý dữ liệu, hay công cụ dòng lệnh. Hướng dẫn toàn diện này sẽ giúp bạn khám phá các khả năng benchmark của Ruby, từ đo lường thời gian cơ bản đến các kỹ thuật phân tích chuyên sâu. Đến cuối bài, bạn sẽ có một bộ công cụ đầy đủ để đo lường, so sánh và tối ưu hóa mã Ruby của mình."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-07-24T03:14:55.000Z"><meta data-rh="true" property="article:author" content="https://github.com/ojisanchamchi"><meta data-rh="true" property="article:tag" content="Ruby,Performance,Benchmarking"><link data-rh="true" rel="icon" href="/keep-being-human-dev/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ojisanchamchi.github.io/keep-being-human-dev/blog/huong-dan-benchmark-ruby/"><link data-rh="true" rel="alternate" href="https://ojisanchamchi.github.io/keep-being-human-dev/blog/huong-dan-benchmark-ruby/" hreflang="en"><link data-rh="true" rel="alternate" href="https://ojisanchamchi.github.io/keep-being-human-dev/blog/huong-dan-benchmark-ruby/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://ojisanchamchi.github.io/keep-being-human-dev/blog/huong-dan-benchmark-ruby","mainEntityOfPage":"https://ojisanchamchi.github.io/keep-being-human-dev/blog/huong-dan-benchmark-ruby","url":"https://ojisanchamchi.github.io/keep-being-human-dev/blog/huong-dan-benchmark-ruby","headline":"Hướng Dẫn Toàn Diện Về Benchmark Trong Ruby - Từ Cơ Bản Đến Chuyên Sâu","name":"Hướng Dẫn Toàn Diện Về Benchmark Trong Ruby - Từ Cơ Bản Đến Chuyên Sâu","description":"Tối ưu hóa hiệu suất là một khía cạnh quan trọng trong phát triển Ruby, cho dù bạn đang xây dựng ứng dụng web, hệ thống xử lý dữ liệu, hay công cụ dòng lệnh. Hướng dẫn toàn diện này sẽ giúp bạn khám phá các khả năng benchmark của Ruby, từ đo lường thời gian cơ bản đến các kỹ thuật phân tích chuyên sâu. Đến cuối bài, bạn sẽ có một bộ công cụ đầy đủ để đo lường, so sánh và tối ưu hóa mã Ruby của mình.","datePublished":"2025-07-24T03:14:55.000Z","author":{"@type":"Person","name":"Dang Quang Minh","description":"Nhân viên oánh máy tính","url":"https://github.com/ojisanchamchi","image":"https://github.com/ojisanchamchi.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://ojisanchamchi.github.io/keep-being-human-dev/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/keep-being-human-dev/blog/rss.xml" title="Keep Being Human RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/keep-being-human-dev/blog/atom.xml" title="Keep Being Human Atom Feed"><link rel="stylesheet" href="/keep-being-human-dev/assets/css/styles.5d4f9dac.css">
<script src="/keep-being-human-dev/assets/js/runtime~main.bc0eac6b.js" defer="defer"></script>
<script src="/keep-being-human-dev/assets/js/main.36535a00.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/keep-being-human-dev/img/logo.svg"><link rel="preload" as="image" href="https://github.com/ojisanchamchi.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_dyf1" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/keep-being-human-dev/"><div class="navbar__logo"><img src="/keep-being-human-dev/img/logo.svg" alt="Keep Being Human Logo" class="themedComponent_ogAL themedComponent--light__wdf"><img src="/keep-being-human-dev/img/logo.svg" alt="Keep Being Human Logo" class="themedComponent_ogAL themedComponent--dark_SEbq"></div><b class="navbar__title text--truncate">Keep Being Human</b></a><a class="navbar__item navbar__link" href="/keep-being-human-dev/docs/intro/">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/keep-being-human-dev/blog/">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/ojisanchamchi/keep-being-human-dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink__HqX"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_d9FJ colorModeToggle_OvZq"><button class="clean-btn toggleButton_YeW3 toggleButtonDisabled_axyx" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Ubto lightToggleIcon_kqz0"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Ubto darkToggleIcon_AfVN"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Ubto systemToggleIcon_qH6u"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_NnjY"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_DTfW"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_jyhb thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_V_we margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_xV7s">2025</h3><ul class="sidebarItemList_WBAy clean-list"><li class="sidebarItem_gcTG"><a class="sidebarItemLink_ordu" href="/keep-being-human-dev/blog/ruby-compression-tu-co-ban-den-nang-cao/">Ruby Compression: Từ Cơ Bản Đến Nâng Cao - Hướng Dẫn Toàn Diện</a></li><li class="sidebarItem_gcTG"><a class="sidebarItemLink_ordu" href="/keep-being-human-dev/blog/ruby-concurrency-mutexes-tu-co-ban-den-nang-cao/">Ruby Concurrency &amp; Mutexes: Từ Cơ Bản Đến Nâng Cao - Hướng Dẫn Toàn Diện</a></li><li class="sidebarItem_gcTG"><a class="sidebarItemLink_ordu" href="/keep-being-human-dev/blog/ruby-classes-modules-tu-co-ban-den-nang-cao/">Ruby Classes và Modules - Từ Cơ Bản Đến Nâng Cao Cho Developer</a></li><li class="sidebarItem_gcTG"><a class="sidebarItemLink_ordu" href="/keep-being-human-dev/blog/ruby-blocks-tu-co-ban-den-nang-cao/">Ruby Blocks - Từ Cơ Bản Đến Nâng Cao Cho Developer</a></li><li class="sidebarItem_gcTG"><a aria-current="page" class="sidebarItemLink_ordu sidebarItemLinkActive_NoCP" href="/keep-being-human-dev/blog/huong-dan-benchmark-ruby/">Hướng Dẫn Toàn Diện Về Benchmark Trong Ruby - Từ Cơ Bản Đến Chuyên Sâu</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_lsAI">Hướng Dẫn Toàn Diện Về Benchmark Trong Ruby - Từ Cơ Bản Đến Chuyên Sâu</h1><div class="container_kuiJ margin-vert--md"><time datetime="2025-07-24T03:14:55.000Z">July 24, 2025</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_VoJj"><div class="avatar margin-bottom--sm"><a class="avatar__photo-link" href="/keep-being-human-dev/blog/authors/admin/"><img class="avatar__photo authorImage_FcCi" src="https://github.com/ojisanchamchi.png" alt="Dang Quang Minh"></a><div class="avatar__intro authorDetails_YCfc"><div class="avatar__name"><a href="/keep-being-human-dev/blog/authors/admin/"><span class="authorName_AFC5">Dang Quang Minh</span></a></div><small class="authorTitle_e6Qj" title="Nhân viên oánh máy tính">Nhân viên oánh máy tính</small><div class="authorSocials_nZrJ"><a href="https://github.com/ojisanchamchi" target="_blank" rel="noopener noreferrer" class="authorSocialLink_E4St" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_E4St githubSvg_EOyk"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>Tối ưu hóa hiệu suất là một khía cạnh quan trọng trong phát triển Ruby, cho dù bạn đang xây dựng ứng dụng web, hệ thống xử lý dữ liệu, hay công cụ dòng lệnh. Hướng dẫn toàn diện này sẽ giúp bạn khám phá các khả năng benchmark của Ruby, từ đo lường thời gian cơ bản đến các kỹ thuật phân tích chuyên sâu. Đến cuối bài, bạn sẽ có một bộ công cụ đầy đủ để đo lường, so sánh và tối ưu hóa mã Ruby của mình.</p>
<h2 class="anchor anchorWithStickyNavbar_aa2m" id="cấp-độ-cơ-bản-bắt-đầu-với-ruby-benchmarking">Cấp Độ Cơ Bản: Bắt Đầu Với Ruby Benchmarking<a href="#cấp-độ-cơ-bản-bắt-đầu-với-ruby-benchmarking" class="hash-link" aria-label="Direct link to Cấp Độ Cơ Bản: Bắt Đầu Với Ruby Benchmarking" title="Direct link to Cấp Độ Cơ Bản: Bắt Đầu Với Ruby Benchmarking">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-kiểm-tra-hiệu-suất-nhanh-trong-irb-hoặc-rails-console">⚡ Kiểm Tra Hiệu Suất Nhanh Trong IRB hoặc Rails Console<a href="#-kiểm-tra-hiệu-suất-nhanh-trong-irb-hoặc-rails-console" class="hash-link" aria-label="Direct link to ⚡ Kiểm Tra Hiệu Suất Nhanh Trong IRB hoặc Rails Console" title="Direct link to ⚡ Kiểm Tra Hiệu Suất Nhanh Trong IRB hoặc Rails Console">​</a></h3>
<p>Cách đơn giản nhất để bắt đầu benchmark là trực tiếp trong môi trường Ruby tương tác. Thư viện chuẩn của Ruby bao gồm module <code>Benchmark</code>, cung cấp nhiều phương thức để đo thời gian thực thi mã.</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token plain">$ irb</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;&gt;</span><span class="token plain"> Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">measure </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">1.</span><span class="token number" style="color:rgb(181, 206, 168)">.100</span><span class="token plain">_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;</span><span class="token symbol">:to_s</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain">   </span><span class="token number" style="color:rgb(181, 206, 168)">0.020000</span><span class="token plain">   </span><span class="token number" style="color:rgb(181, 206, 168)">0.000000</span><span class="token plain">   </span><span class="token number" style="color:rgb(181, 206, 168)">0.020000</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">  </span><span class="token number" style="color:rgb(181, 206, 168)">0.019845</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<p>Kết quả này hiển thị thời gian CPU người dùng, thời gian CPU hệ thống, tổng thời gian CPU và thời gian thực tế trôi qua (trong ngoặc đơn).</p>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-sử-dụng-benchmarkmeasure-để-đo-thời-gian-nhanh">🕒 Sử Dụng Benchmark.measure Để Đo Thời Gian Nhanh<a href="#-sử-dụng-benchmarkmeasure-để-đo-thời-gian-nhanh" class="hash-link" aria-label="Direct link to 🕒 Sử Dụng Benchmark.measure Để Đo Thời Gian Nhanh" title="Direct link to 🕒 Sử Dụng Benchmark.measure Để Đo Thời Gian Nhanh">​</a></h3>
<p>Khi bạn muốn đo thời gian của một khối mã cụ thể trong script của mình, <code>Benchmark.measure</code> là phương thức lý tưởng:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">time </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">measure </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># mã của bạn ở đây</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token number" style="color:rgb(181, 206, 168)">100</span><span class="token plain">_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">i</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">puts time  </span><span class="token comment" style="color:rgb(106, 153, 85)"># =&gt;   0.010000   0.000000   0.010000 (  0.009876)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="️-đo-lường-ruby-thuần-túy-với-benchmarkrealtime">⏱️ Đo Lường Ruby Thuần Túy Với Benchmark.realtime<a href="#️-đo-lường-ruby-thuần-túy-với-benchmarkrealtime" class="hash-link" aria-label="Direct link to ⏱️ Đo Lường Ruby Thuần Túy Với Benchmark.realtime" title="Direct link to ⏱️ Đo Lường Ruby Thuần Túy Với Benchmark.realtime">​</a></h3>
<p>Nếu bạn chỉ quan tâm đến thời gian thực tế (thời gian thực sự mất để thực hiện một tác vụ), <code>Benchmark.realtime</code> cung cấp giao diện đơn giản hơn:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">elapsed </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">realtime </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  sleep </span><span class="token number" style="color:rgb(181, 206, 168)">0.5</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># thay thế bằng logic của bạn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">puts </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;Thời gian đã trôi qua: </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content">elapsed</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token string-literal interpolation content">round</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal interpolation content number" style="color:rgb(181, 206, 168)">3</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)"> giây&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-so-sánh-nhiều-đoạn-mã-với-benchmarkbm">📊 So Sánh Nhiều Đoạn Mã Với Benchmark.bm<a href="#-so-sánh-nhiều-đoạn-mã-với-benchmarkbm" class="hash-link" aria-label="Direct link to 📊 So Sánh Nhiều Đoạn Mã Với Benchmark.bm" title="Direct link to 📊 So Sánh Nhiều Đoạn Mã Với Benchmark.bm">​</a></h3>
<p>Khi bạn cần so sánh các cách triển khai khác nhau, <code>Benchmark.bm</code> tạo ra một bảng định dạng:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">bm</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">12</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">x</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;vòng lặp times&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token plain">_000_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">i</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;vòng lặp for  &quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">for</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(86, 156, 214)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1.</span><span class="token number" style="color:rgb(181, 206, 168)">.1</span><span class="token plain">_000_000</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      i </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><br></span></code></pre></div></div>
<p>Tham số <code>12</code> chỉ định độ rộng của cột nhãn để căn chỉnh.</p>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-truy-cập-thời-gian-thực-người-dùng-và-hệ-thống-từ-tms">💾 Truy Cập Thời Gian Thực, Người Dùng và Hệ Thống từ Tms<a href="#-truy-cập-thời-gian-thực-người-dùng-và-hệ-thống-từ-tms" class="hash-link" aria-label="Direct link to 💾 Truy Cập Thời Gian Thực, Người Dùng và Hệ Thống từ Tms" title="Direct link to 💾 Truy Cập Thời Gian Thực, Người Dùng và Hệ Thống từ Tms">​</a></h3>
<p>Phương thức <code>Benchmark.measure</code> trả về một đối tượng <code>Benchmark::Tms</code> với các thuộc tính thời gian riêng biệt:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">t </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">measure </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token number" style="color:rgb(181, 206, 168)">10</span><span class="token plain">_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sqrt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">123.456</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">puts </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;Thực: </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content">t</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token string-literal interpolation content">real</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># thời gian thực tế</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">puts </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;Người dùng: </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content">t</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token string-literal interpolation content">utime</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain">   </span><span class="token comment" style="color:rgb(106, 153, 85)"># thời gian CPU dành cho Ruby</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">puts </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;Hệ thống: </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content">t</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token string-literal interpolation content">stime</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)"># thời gian CPU dành cho lệnh gọi hệ thống</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_aa2m" id="cấp-độ-trung-cấp-đo-lường-chính-xác-hơn">Cấp Độ Trung Cấp: Đo Lường Chính Xác Hơn<a href="#cấp-độ-trung-cấp-đo-lường-chính-xác-hơn" class="hash-link" aria-label="Direct link to Cấp Độ Trung Cấp: Đo Lường Chính Xác Hơn" title="Direct link to Cấp Độ Trung Cấp: Đo Lường Chính Xác Hơn">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-sử-dụng-benchmarkbm-cho-các-phép-đo-chi-tiết">🚀 Sử Dụng Benchmark.bm Cho Các Phép Đo Chi Tiết<a href="#-sử-dụng-benchmarkbm-cho-các-phép-đo-chi-tiết" class="hash-link" aria-label="Direct link to 🚀 Sử Dụng Benchmark.bm Cho Các Phép Đo Chi Tiết" title="Direct link to 🚀 Sử Dụng Benchmark.bm Cho Các Phép Đo Chi Tiết">​</a></h3>
<p>Để so sánh chi tiết hơn, bạn có thể sử dụng <code>Benchmark.bm</code> với nhiều khối mã:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">n </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">500</span><span class="token plain">_000</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">bm</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">10</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">x</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;each&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">1.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token keyword" style="color:rgb(86, 156, 214)">each</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">i</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sqrt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;map&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain">     </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">1.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">map     </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">i</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sqrt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;collect&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">1.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">collect </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">i</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sqrt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-tận-dụng-benchmarkbmbm-cho-so-sánh-chính-xác">🧪 Tận Dụng Benchmark.bmbm Cho So Sánh Chính Xác<a href="#-tận-dụng-benchmarkbmbm-cho-so-sánh-chính-xác" class="hash-link" aria-label="Direct link to 🧪 Tận Dụng Benchmark.bmbm Cho So Sánh Chính Xác" title="Direct link to 🧪 Tận Dụng Benchmark.bmbm Cho So Sánh Chính Xác">​</a></h3>
<p>Phương thức <code>bmbm</code> (viết tắt của &quot;benchmark benchmark&quot;) chạy mỗi khối hai lần—đầu tiên là &quot;tập dượt&quot; và sau đó là đo lường thực tế. Điều này giúp loại bỏ các bất thường trong lần chạy đầu tiên như JIT warm-up hoặc overhead của garbage collection:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">bmbm</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">12</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">x</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;nối chuỗi +&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain">     </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">100</span><span class="token plain">_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;a&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;b&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;nội suy chuỗi&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">100</span><span class="token plain">_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content">a</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content">b</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="️-sử-dụng-benchmarkrealtime-cho-đo-thời-gian-nhanh">⏱️ Sử Dụng Benchmark.realtime Cho Đo Thời Gian Nhanh<a href="#️-sử-dụng-benchmarkrealtime-cho-đo-thời-gian-nhanh" class="hash-link" aria-label="Direct link to ⏱️ Sử Dụng Benchmark.realtime Cho Đo Thời Gian Nhanh" title="Direct link to ⏱️ Sử Dụng Benchmark.realtime Cho Đo Thời Gian Nhanh">​</a></h3>
<p>Đối với các phép đo nhanh, <code>Benchmark.realtime</code> là lựa chọn hoàn hảo:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">start_time </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">realtime </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  sleep</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">puts </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;Thao tác mất </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content">start_time</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token string-literal interpolation content">round</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal interpolation content number" style="color:rgb(181, 206, 168)">3</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">s&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-ghi-lại-và-định-dạng-kết-quả-benchmark">📊 Ghi Lại và Định Dạng Kết Quả Benchmark<a href="#-ghi-lại-và-định-dạng-kết-quả-benchmark" class="hash-link" aria-label="Direct link to 📊 Ghi Lại và Định Dạng Kết Quả Benchmark" title="Direct link to 📊 Ghi Lại và Định Dạng Kết Quả Benchmark">​</a></h3>
<p>Bạn có thể ghi lại kết quả benchmark và định dạng chúng theo chương trình:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">result </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">measure </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token plain">_000_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">i</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">puts </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;Thực: </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content">result</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token string-literal interpolation content">real</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token string-literal interpolation content">round</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal interpolation content number" style="color:rgb(181, 206, 168)">4</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">s, Người dùng: </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content">result</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token string-literal interpolation content">utime</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token string-literal interpolation content">round</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal interpolation content number" style="color:rgb(181, 206, 168)">4</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">s, Hệ thống: </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content">result</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token string-literal interpolation content">stime</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token string-literal interpolation content">round</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal interpolation content number" style="color:rgb(181, 206, 168)">4</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">s&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="️-so-sánh-nối-chuỗi-và-nội-suy-chuỗi">✂️ So Sánh Nối Chuỗi và Nội Suy Chuỗi<a href="#️-so-sánh-nối-chuỗi-và-nội-suy-chuỗi" class="hash-link" aria-label="Direct link to ✂️ So Sánh Nối Chuỗi và Nội Suy Chuỗi" title="Direct link to ✂️ So Sánh Nối Chuỗi và Nội Suy Chuỗi">​</a></h3>
<p>Một ví dụ thực tế về benchmark các cách tiếp cận khác nhau:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">n </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">200</span><span class="token plain">_000</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">bm</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">15</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">x</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;nối chuỗi&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> s </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;foo&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;bar&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;nội suy chuỗi&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> s </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content string-literal string" style="color:rgb(206, 145, 120)">&#x27;foo&#x27;</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content string-literal string" style="color:rgb(206, 145, 120)">&#x27;bar&#x27;</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_aa2m" id="cấp-độ-nâng-cao-kỹ-thuật-benchmark-chuyên-biệt">Cấp Độ Nâng Cao: Kỹ Thuật Benchmark Chuyên Biệt<a href="#cấp-độ-nâng-cao-kỹ-thuật-benchmark-chuyên-biệt" class="hash-link" aria-label="Direct link to Cấp Độ Nâng Cao: Kỹ Thuật Benchmark Chuyên Biệt" title="Direct link to Cấp Độ Nâng Cao: Kỹ Thuật Benchmark Chuyên Biệt">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-sử-dụng-benchmark-ips-cho-các-số-liệu-thông-lượng">⚡ Sử Dụng <code>benchmark-ips</code> Cho Các Số Liệu Thông Lượng<a href="#-sử-dụng-benchmark-ips-cho-các-số-liệu-thông-lượng" class="hash-link" aria-label="Direct link to -sử-dụng-benchmark-ips-cho-các-số-liệu-thông-lượng" title="Direct link to -sử-dụng-benchmark-ips-cho-các-số-liệu-thông-lượng">​</a></h3>
<p>Gem <code>benchmark-ips</code> đo lường số lần lặp mỗi giây, thường hữu ích hơn thời gian thô khi so sánh các thuật toán:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark/ips&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">ips </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">x</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;nối chuỗi&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain">   </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;hello&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27; &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;world&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;nội suy chuỗi&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content string-literal string" style="color:rgb(206, 145, 120)">&#x27;hello&#x27;</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)"> </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content string-literal string" style="color:rgb(206, 145, 120)">&#x27;world&#x27;</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">compare</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><br></span></code></pre></div></div>
<p>Phương thức <code>compare!</code> tự động tính toán một cách triển khai nhanh hơn bao nhiêu so với các cách khác.</p>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-mở-rộng-benchmarksuite-với-các-số-liệu-tùy-chỉnh">🔧 Mở Rộng <code>Benchmark::Suite</code> Với Các Số Liệu Tùy Chỉnh<a href="#-mở-rộng-benchmarksuite-với-các-số-liệu-tùy-chỉnh" class="hash-link" aria-label="Direct link to -mở-rộng-benchmarksuite-với-các-số-liệu-tùy-chỉnh" title="Direct link to -mở-rộng-benchmarksuite-với-các-số-liệu-tùy-chỉnh">​</a></h3>
<p>Đối với phân tích đa chiều, bạn có thể tạo các bộ benchmark tùy chỉnh:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark/suite&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">CustomSuite</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> Benchmark</span><span class="token double-colon punctuation" style="color:rgb(212, 212, 212)">::</span><span class="token plain">Suite</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  report </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;allocations&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">n</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token constant" style="color:rgb(100, 102, 149)">GC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> before </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">GC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">stat</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token symbol">:total_allocated_objects</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content">rand</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token constant" style="color:rgb(100, 102, 149)">GC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">stat</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token symbol">:total_allocated_objects</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> before</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">suite </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">CustomSuite</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">suite</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">bench_ms</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">10</span><span class="token plain">_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">suite</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">print</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token symbol">:legacy</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-tạm-thời-vô-hiệu-hóa-garbage-collection-trong-benchmark">🚫 Tạm Thời Vô Hiệu Hóa Garbage Collection Trong Benchmark<a href="#-tạm-thời-vô-hiệu-hóa-garbage-collection-trong-benchmark" class="hash-link" aria-label="Direct link to 🚫 Tạm Thời Vô Hiệu Hóa Garbage Collection Trong Benchmark" title="Direct link to 🚫 Tạm Thời Vô Hiệu Hóa Garbage Collection Trong Benchmark">​</a></h3>
<p>Garbage collection có thể làm sai lệch kết quả microbenchmark. Bạn có thể tạm thời vô hiệu hóa nó:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">GC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">disable</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">results </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">measure </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token number" style="color:rgb(181, 206, 168)">10</span><span class="token plain">_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;foo&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">10</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">GC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enable</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">puts results</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-kết-hợp-các-số-liệu-phân-bổ-bộ-nhớ-vào-benchmark">📊 Kết Hợp Các Số Liệu Phân Bổ Bộ Nhớ Vào Benchmark<a href="#-kết-hợp-các-số-liệu-phân-bổ-bộ-nhớ-vào-benchmark" class="hash-link" aria-label="Direct link to 📊 Kết Hợp Các Số Liệu Phân Bổ Bộ Nhớ Vào Benchmark" title="Direct link to 📊 Kết Hợp Các Số Liệu Phân Bổ Bộ Nhớ Vào Benchmark">​</a></h3>
<p>Việc sử dụng bộ nhớ thường quan trọng như thời gian thực thi:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;memory_profiler&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">report </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> MemoryProfiler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token number" style="color:rgb(181, 206, 168)">10</span><span class="token plain">_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Array</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> rand </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">pretty_print</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token symbol">to_file</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;allocations.txt&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-triển-khai-giai-đoạn-khởi-động-để-ổn-định-jit-và-hiệu-ứng-bộ-nhớ-đệm">🔥 Triển Khai Giai Đoạn Khởi Động Để Ổn Định JIT và Hiệu Ứng Bộ Nhớ Đệm<a href="#-triển-khai-giai-đoạn-khởi-động-để-ổn-định-jit-và-hiệu-ứng-bộ-nhớ-đệm" class="hash-link" aria-label="Direct link to 🔥 Triển Khai Giai Đoạn Khởi Động Để Ổn Định JIT và Hiệu Ứng Bộ Nhớ Đệm" title="Direct link to 🔥 Triển Khai Giai Đoạn Khởi Động Để Ổn Định JIT và Hiệu Ứng Bộ Nhớ Đệm">​</a></h3>
<p>Giai đoạn khởi động giúp ổn định các phép đo bằng cách cho phép VM của Ruby tối ưu hóa đường dẫn mã:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark/ips&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">ips</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token symbol">warmup</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token symbol">time</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">x</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;math sqrt&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sqrt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">123.456</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;pow operator&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">123.456</span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token number" style="color:rgb(181, 206, 168)">0.5</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_aa2m" id="cấp-độ-chuyên-gia-benchmark-cấp-độ-sản-xuất">Cấp Độ Chuyên Gia: Benchmark Cấp Độ Sản Xuất<a href="#cấp-độ-chuyên-gia-benchmark-cấp-độ-sản-xuất" class="hash-link" aria-label="Direct link to Cấp Độ Chuyên Gia: Benchmark Cấp Độ Sản Xuất" title="Direct link to Cấp Độ Chuyên Gia: Benchmark Cấp Độ Sản Xuất">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-tự-động-hóa-bộ-benchmark-với-báo-cáo-html-tương-tác">🛠 Tự Động Hóa Bộ Benchmark Với Báo Cáo HTML Tương Tác<a href="#-tự-động-hóa-bộ-benchmark-với-báo-cáo-html-tương-tác" class="hash-link" aria-label="Direct link to 🛠 Tự Động Hóa Bộ Benchmark Với Báo Cáo HTML Tương Tác" title="Direct link to 🛠 Tự Động Hóa Bộ Benchmark Với Báo Cáo HTML Tương Tác">​</a></h3>
<p>Để giám sát hiệu suất liên tục, tích hợp benchmark vào pipeline CI của bạn:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;erb&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;json&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Bước 1: chạy benchmark</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">results </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">bmbm </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">x</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;alpha&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> alpha_task </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;beta&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> beta_task  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Bước 2: chuẩn bị dữ liệu cho biểu đồ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">chart_data </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> results</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">map </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">r</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token symbol">name</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">label</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token symbol">time</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">real </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Bước 3: render HTML</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">template </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">ERB</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token builtin" style="color:rgb(86, 156, 214)">File</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">read</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;report_template.html.erb&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin" style="color:rgb(86, 156, 214)">File</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">write</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;bench_report.html&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> template</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">result_with_hash</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token symbol">data</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> chart_data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<p>Sau đó, trong pipeline GitHub Actions của bạn, tải lên <code>bench_report.html</code> như một artifact hoặc triển khai lên GitHub Pages để có khả năng hiển thị liên tục.</p>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-tinh-chỉnh-benchmarkips-cho-độ-tin-cậy-thống-kê">🚀 Tinh Chỉnh Benchmark.ips Cho Độ Tin Cậy Thống Kê<a href="#-tinh-chỉnh-benchmarkips-cho-độ-tin-cậy-thống-kê" class="hash-link" aria-label="Direct link to 🚀 Tinh Chỉnh Benchmark.ips Cho Độ Tin Cậy Thống Kê" title="Direct link to 🚀 Tinh Chỉnh Benchmark.ips Cho Độ Tin Cậy Thống Kê">​</a></h3>
<p>Đối với các hệ thống quan trọng, độ tin cậy thống kê là rất quan trọng:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark/ips&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">ips </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">x</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token symbol">time</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token symbol">warmup</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token symbol">confidence</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">95</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token symbol">guarantee</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">99</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;fast_path&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># triển khai đã tối ưu hóa</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    FastPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;fallback&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># triển khai dự phòng chậm hơn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    Fallback</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">compare</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-microbenchmark-c-extensions-so-với-ruby-thuần-túy">🔩 Microbenchmark C Extensions So Với Ruby Thuần Túy<a href="#-microbenchmark-c-extensions-so-với-ruby-thuần-túy" class="hash-link" aria-label="Direct link to 🔩 Microbenchmark C Extensions So Với Ruby Thuần Túy" title="Direct link to 🔩 Microbenchmark C Extensions So Với Ruby Thuần Túy">​</a></h3>
<p>Khi xem xét C extensions cho mã quan trọng về hiệu suất:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark/ips&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">require_relative </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;fast_parser&#x27;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># C extension</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(220, 220, 170)">ruby_parser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">each_char</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;</span><span class="token symbol">:ord</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">reduce</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token operator" style="color:rgb(212, 212, 212)">^</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">ips </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">x</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token symbol">time</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token symbol">warmup</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;C parser&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> FastParser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">large_string</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;Ruby parser&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain">   </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> ruby_parser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">large_string</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">compare</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token symbol">threshold</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1.05</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># chỉ hiển thị sự khác biệt &gt;5%</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="️-xây-dựng-bộ-benchmark-tùy-chỉnh-với-khởi-động-và-dọn-dẹp">⚙️ Xây Dựng Bộ Benchmark Tùy Chỉnh Với Khởi Động và Dọn Dẹp<a href="#️-xây-dựng-bộ-benchmark-tùy-chỉnh-với-khởi-động-và-dọn-dẹp" class="hash-link" aria-label="Direct link to ⚙️ Xây Dựng Bộ Benchmark Tùy Chỉnh Với Khởi Động và Dọn Dẹp" title="Direct link to ⚙️ Xây Dựng Bộ Benchmark Tùy Chỉnh Với Khởi Động và Dọn Dẹp">​</a></h3>
<p>Đối với benchmark cấp doanh nghiệp, một bộ tùy chỉnh cung cấp khả năng kiểm soát tối đa:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">BenchmarkHarness</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(220, 220, 170)">initialize</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token symbol">iterations</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token symbol">warmup_cycles</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token variable" style="color:rgb(156, 220, 254)">@iterations</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> iterations</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token variable" style="color:rgb(156, 220, 254)">@warmup_cycles</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> warmup_cycles</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token variable" style="color:rgb(156, 220, 254)">@results</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(220, 220, 170)">run</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token variable" style="color:rgb(156, 220, 254)">@warmup_cycles</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">GC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">start </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token variable" style="color:rgb(156, 220, 254)">@warmup_cycles</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">yield</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># khởi động</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token variable" style="color:rgb(156, 220, 254)">@iterations</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">i</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token constant" style="color:rgb(100, 102, 149)">GC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token symbol">full_mark</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token symbol">immediate_sweep</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      t0 </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> Process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clock_gettime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">Process</span><span class="token double-colon punctuation" style="color:rgb(212, 212, 212)">::</span><span class="token constant" style="color:rgb(100, 102, 149)">CLOCK_MONOTONIC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token keyword" style="color:rgb(86, 156, 214)">yield</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      t1 </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> Process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clock_gettime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">Process</span><span class="token double-colon punctuation" style="color:rgb(212, 212, 212)">::</span><span class="token constant" style="color:rgb(100, 102, 149)">CLOCK_MONOTONIC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token variable" style="color:rgb(156, 220, 254)">@results</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;&lt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">t1 </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> t0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    summarize</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(220, 220, 170)">summarize</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    avg </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">@results</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sum </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">@results</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">size</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    sd </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sqrt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token variable" style="color:rgb(156, 220, 254)">@results</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">map </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">x</span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">x </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> avg</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sum </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">@results</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">size</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token symbol">average</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> avg</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token symbol">std_dev</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> sd</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token symbol">samples</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">@results</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">size </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Cách sử dụng</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">harness </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">BenchmarkHarness</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token symbol">iterations</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">50</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token symbol">warmup_cycles</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">10</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">stats </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> harness</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">run </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> MyService</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">call</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">payload</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">puts stats</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_aa2m" id="-kết-hợp-phân-tích-hiệu-suất-và-bộ-nhớ-sử-dụng-memory_profiler">📊 Kết Hợp Phân Tích Hiệu Suất và Bộ Nhớ Sử Dụng memory_profiler<a href="#-kết-hợp-phân-tích-hiệu-suất-và-bộ-nhớ-sử-dụng-memory_profiler" class="hash-link" aria-label="Direct link to 📊 Kết Hợp Phân Tích Hiệu Suất và Bộ Nhớ Sử Dụng memory_profiler" title="Direct link to 📊 Kết Hợp Phân Tích Hiệu Suất và Bộ Nhớ Sử Dụng memory_profiler">​</a></h3>
<p>Để có cái nhìn toàn diện về hiệu suất, kết hợp phân tích thời gian và bộ nhớ:</p>
<div class="language-ruby codeBlockContainer_fd20 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_z5HD"><pre tabindex="0" class="prism-code language-ruby codeBlock_PbU4 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_ZkdA"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;benchmark&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;memory_profiler&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">report </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> MemoryProfiler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">report </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  time </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> Benchmark</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">realtime </span><span class="token keyword" style="color:rgb(86, 156, 214)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token number" style="color:rgb(181, 206, 168)">10</span><span class="token plain">_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">times </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> process_item</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  puts </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&quot;Thời gian thực thi: </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">#{</span><span class="token string-literal interpolation content">time</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token string-literal interpolation content">round</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string-literal interpolation content number" style="color:rgb(181, 206, 168)">4</span><span class="token string-literal interpolation content punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token string-literal string" style="color:rgb(206, 145, 120)">s&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">report</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">pretty_print</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token symbol">to_file</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;memory_report.txt&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_aa2m" id="kết-luận">Kết Luận<a href="#kết-luận" class="hash-link" aria-label="Direct link to Kết Luận" title="Direct link to Kết Luận">​</a></h2>
<p>Benchmark trong Ruby là một hành trình từ các phép đo thời gian đơn giản đến phân tích thống kê phức tạp. Khi ứng dụng của bạn ngày càng phức tạp, kỹ thuật benchmark của bạn cũng nên phát triển theo. Bắt đầu với các cơ bản như <code>Benchmark.measure</code> và <code>Benchmark.bm</code>, sau đó tiến tới các công cụ nâng cao hơn như <code>benchmark-ips</code> và các bộ tùy chỉnh khi cần thiết.</p>
<p>Hãy nhớ rằng benchmark không chỉ là tìm mã nhanh nhất—mà là đưa ra quyết định sáng suốt dựa trên dữ liệu thực nghiệm. Đôi khi một triển khai hơi chậm hơn có thể được ưa chuộng nếu nó sử dụng ít bộ nhớ hơn hoặc dễ bảo trì hơn. Luôn xem xét bối cảnh đầy đủ của ứng dụng khi tối ưu hóa hiệu suất.</p>
<p>Bằng cách nắm vững các kỹ thuật benchmark này, bạn sẽ được trang bị tốt để viết mã Ruby hiệu quả, có hiệu suất cao và có thể mở rộng theo nhu cầu của bạn.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_BgrL padding--none margin-left--sm"><li class="tag_cZsL"><a rel="tag" title="Content related to Ruby programming language" class="tag_xPz1 tagRegular_FZN5" href="/keep-being-human-dev/blog/tags/ruby/">Ruby</a></li><li class="tag_cZsL"><a rel="tag" title="Content related to performance optimization and techniques" class="tag_xPz1 tagRegular_FZN5" href="/keep-being-human-dev/blog/tags/performance/">Performance</a></li><li class="tag_cZsL"><a rel="tag" title="Content about measuring and comparing code performance" class="tag_xPz1 tagRegular_FZN5" href="/keep-being-human-dev/blog/tags/benchmarking/">Benchmarking</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/huong-dan-benchmark-ruby.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_t8pj" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Olft"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/keep-being-human-dev/blog/ruby-blocks-tu-co-ban-den-nang-cao/"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Ruby Blocks - Từ Cơ Bản Đến Nâng Cao Cho Developer</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/keep-being-human-dev/blog/ruby-arrays-ky-thuat-chuyen-gia/"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Nghệ Thuật Tối Thượng về Mảng trong Ruby: Bí Kíp Chỉ Dành Cho Chuyên Gia</div></a></nav></main><div class="col col--2"><div class="tableOfContents_ZllA thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cấp-độ-cơ-bản-bắt-đầu-với-ruby-benchmarking" class="table-of-contents__link toc-highlight">Cấp Độ Cơ Bản: Bắt Đầu Với Ruby Benchmarking</a><ul><li><a href="#-kiểm-tra-hiệu-suất-nhanh-trong-irb-hoặc-rails-console" class="table-of-contents__link toc-highlight">⚡ Kiểm Tra Hiệu Suất Nhanh Trong IRB hoặc Rails Console</a></li><li><a href="#-sử-dụng-benchmarkmeasure-để-đo-thời-gian-nhanh" class="table-of-contents__link toc-highlight">🕒 Sử Dụng Benchmark.measure Để Đo Thời Gian Nhanh</a></li><li><a href="#️-đo-lường-ruby-thuần-túy-với-benchmarkrealtime" class="table-of-contents__link toc-highlight">⏱️ Đo Lường Ruby Thuần Túy Với Benchmark.realtime</a></li><li><a href="#-so-sánh-nhiều-đoạn-mã-với-benchmarkbm" class="table-of-contents__link toc-highlight">📊 So Sánh Nhiều Đoạn Mã Với Benchmark.bm</a></li><li><a href="#-truy-cập-thời-gian-thực-người-dùng-và-hệ-thống-từ-tms" class="table-of-contents__link toc-highlight">💾 Truy Cập Thời Gian Thực, Người Dùng và Hệ Thống từ Tms</a></li></ul></li><li><a href="#cấp-độ-trung-cấp-đo-lường-chính-xác-hơn" class="table-of-contents__link toc-highlight">Cấp Độ Trung Cấp: Đo Lường Chính Xác Hơn</a><ul><li><a href="#-sử-dụng-benchmarkbm-cho-các-phép-đo-chi-tiết" class="table-of-contents__link toc-highlight">🚀 Sử Dụng Benchmark.bm Cho Các Phép Đo Chi Tiết</a></li><li><a href="#-tận-dụng-benchmarkbmbm-cho-so-sánh-chính-xác" class="table-of-contents__link toc-highlight">🧪 Tận Dụng Benchmark.bmbm Cho So Sánh Chính Xác</a></li><li><a href="#️-sử-dụng-benchmarkrealtime-cho-đo-thời-gian-nhanh" class="table-of-contents__link toc-highlight">⏱️ Sử Dụng Benchmark.realtime Cho Đo Thời Gian Nhanh</a></li><li><a href="#-ghi-lại-và-định-dạng-kết-quả-benchmark" class="table-of-contents__link toc-highlight">📊 Ghi Lại và Định Dạng Kết Quả Benchmark</a></li><li><a href="#️-so-sánh-nối-chuỗi-và-nội-suy-chuỗi" class="table-of-contents__link toc-highlight">✂️ So Sánh Nối Chuỗi và Nội Suy Chuỗi</a></li></ul></li><li><a href="#cấp-độ-nâng-cao-kỹ-thuật-benchmark-chuyên-biệt" class="table-of-contents__link toc-highlight">Cấp Độ Nâng Cao: Kỹ Thuật Benchmark Chuyên Biệt</a><ul><li><a href="#-sử-dụng-benchmark-ips-cho-các-số-liệu-thông-lượng" class="table-of-contents__link toc-highlight">⚡ Sử Dụng <code>benchmark-ips</code> Cho Các Số Liệu Thông Lượng</a></li><li><a href="#-mở-rộng-benchmarksuite-với-các-số-liệu-tùy-chỉnh" class="table-of-contents__link toc-highlight">🔧 Mở Rộng <code>Benchmark::Suite</code> Với Các Số Liệu Tùy Chỉnh</a></li><li><a href="#-tạm-thời-vô-hiệu-hóa-garbage-collection-trong-benchmark" class="table-of-contents__link toc-highlight">🚫 Tạm Thời Vô Hiệu Hóa Garbage Collection Trong Benchmark</a></li><li><a href="#-kết-hợp-các-số-liệu-phân-bổ-bộ-nhớ-vào-benchmark" class="table-of-contents__link toc-highlight">📊 Kết Hợp Các Số Liệu Phân Bổ Bộ Nhớ Vào Benchmark</a></li><li><a href="#-triển-khai-giai-đoạn-khởi-động-để-ổn-định-jit-và-hiệu-ứng-bộ-nhớ-đệm" class="table-of-contents__link toc-highlight">🔥 Triển Khai Giai Đoạn Khởi Động Để Ổn Định JIT và Hiệu Ứng Bộ Nhớ Đệm</a></li></ul></li><li><a href="#cấp-độ-chuyên-gia-benchmark-cấp-độ-sản-xuất" class="table-of-contents__link toc-highlight">Cấp Độ Chuyên Gia: Benchmark Cấp Độ Sản Xuất</a><ul><li><a href="#-tự-động-hóa-bộ-benchmark-với-báo-cáo-html-tương-tác" class="table-of-contents__link toc-highlight">🛠 Tự Động Hóa Bộ Benchmark Với Báo Cáo HTML Tương Tác</a></li><li><a href="#-tinh-chỉnh-benchmarkips-cho-độ-tin-cậy-thống-kê" class="table-of-contents__link toc-highlight">🚀 Tinh Chỉnh Benchmark.ips Cho Độ Tin Cậy Thống Kê</a></li><li><a href="#-microbenchmark-c-extensions-so-với-ruby-thuần-túy" class="table-of-contents__link toc-highlight">🔩 Microbenchmark C Extensions So Với Ruby Thuần Túy</a></li><li><a href="#️-xây-dựng-bộ-benchmark-tùy-chỉnh-với-khởi-động-và-dọn-dẹp" class="table-of-contents__link toc-highlight">⚙️ Xây Dựng Bộ Benchmark Tùy Chỉnh Với Khởi Động và Dọn Dẹp</a></li><li><a href="#-kết-hợp-phân-tích-hiệu-suất-và-bộ-nhớ-sử-dụng-memory_profiler" class="table-of-contents__link toc-highlight">📊 Kết Hợp Phân Tích Hiệu Suất và Bộ Nhớ Sử Dụng memory_profiler</a></li></ul></li><li><a href="#kết-luận" class="table-of-contents__link toc-highlight">Kết Luận</a></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/keep-being-human-dev/docs/intro/">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink__HqX"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink__HqX"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink__HqX"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/keep-being-human-dev/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink__HqX"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>