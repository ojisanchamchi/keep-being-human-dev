"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[2174],{32367:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>i,contentTitle:()=>r,default:()=>m,frontMatter:()=>l,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"ruby/yaml/middle/safe_load_yaml","title":"safe_load_yaml","description":"\ud83d\udd12 Safely Load YAML with Psych.safe_load","source":"@site/docs/ruby/yaml/middle/safe_load_yaml.md","sourceDirName":"ruby/yaml/middle","slug":"/ruby/yaml/middle/safe_load_yaml","permalink":"/keep-being-human-dev/docs/ruby/yaml/middle/safe_load_yaml","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/ruby/yaml/middle/safe_load_yaml.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"custom_yaml_serialization","permalink":"/keep-being-human-dev/docs/ruby/yaml/middle/custom_yaml_serialization"},"next":{"title":"yaml_aliases_anchors","permalink":"/keep-being-human-dev/docs/ruby/yaml/middle/yaml_aliases_anchors"}}');var t=s(23420),o=s(65404);const l={},r=void 0,i={},d=[{value:"\ud83d\udd12 Safely Load YAML with Psych.safe_load",id:"-safely-load-yaml-with-psychsafe_load",level:2}];function c(e){const a={code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.h2,{id:"-safely-load-yaml-with-psychsafe_load",children:"\ud83d\udd12 Safely Load YAML with Psych.safe_load"}),"\n",(0,t.jsxs)(a.p,{children:["When consuming YAML from untrusted sources, always use ",(0,t.jsx)(a.code,{children:"YAML.safe_load"})," to prevent arbitrary object deserialization and potential security risks. You can whitelist only the classes and symbols you expect, and control whether aliases and classes are permitted. This approach ensures only basic types (Array, Hash, String, etc.) or your specified classes are loaded."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-ruby",children:'require \'yaml\'\nrequire \'date\'\n\nuser_input = """\n---\nname: John Doe\njoined_at: 2021-07-15\nroles:\n  - admin\n"""\n\ndata = YAML.safe_load(\n  user_input,\n  permitted_classes: [Date],\n  permitted_symbols: [],\n  symbolize_names: true\n)\n\n#=> {:name=>"John Doe", :joined_at=>#<Date: 2021-07-15 ...>, :roles=>["admin"]}\n'})})]})}function m(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},65404:(e,a,s)=>{s.d(a,{R:()=>l,x:()=>r});var n=s(36672);const t={},o=n.createContext(t);function l(e){const a=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),n.createElement(o.Provider,{value:a},e.children)}}}]);