"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[83195],{39381:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"rails/security/advanced/rack_attack_custom_throttle","title":"rack_attack_custom_throttle","description":"\ud83d\uded1 Rate Limiting with Rack::Attack","source":"@site/docs/rails/security/advanced/rack_attack_custom_throttle.md","sourceDirName":"rails/security/advanced","slug":"/rails/security/advanced/rack_attack_custom_throttle","permalink":"/keep-being-human-dev/docs/rails/security/advanced/rack_attack_custom_throttle","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rails/security/advanced/rack_attack_custom_throttle.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"oauth_pkce_flow","permalink":"/keep-being-human-dev/docs/rails/security/advanced/oauth_pkce_flow"},"next":{"title":"safe_raw_sql_with_binds","permalink":"/keep-being-human-dev/docs/rails/security/advanced/safe_raw_sql_with_binds"}}');var c=a(23420),i=a(65404);const r={},s=void 0,o={},d=[{value:"\ud83d\uded1 Rate Limiting with Rack::Attack",id:"-rate-limiting-with-rackattack",level:2}];function l(t){const e={code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...t.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.h2,{id:"-rate-limiting-with-rackattack",children:"\ud83d\uded1 Rate Limiting with Rack::Attack"}),"\n",(0,c.jsx)(e.p,{children:"Protect endpoints by throttling abusive clients. Use custom lambda conditions and dynamic block lists."}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ruby",children:"# config/initializers/rack_attack.rb\nclass Rack::Attack\n  throttle('req/ip', limit: 100, period: 1.minute) do |req|\n    req.ip\n  end\n\n  blocklist('block bad user agents') do |req|\n    req.user_agent =~ /BadBot/i\n  end\nend\n\nRails.application.config.middleware.use Rack::Attack\n"})})]})}function u(t={}){const{wrapper:e}={...(0,i.R)(),...t.components};return e?(0,c.jsx)(e,{...t,children:(0,c.jsx)(l,{...t})}):l(t)}},65404:(t,e,a)=>{a.d(e,{R:()=>r,x:()=>s});var n=a(36672);const c={},i=n.createContext(c);function r(t){const e=n.useContext(i);return n.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function s(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(c):t.components||c:r(t.components),n.createElement(i.Provider,{value:e},t.children)}}}]);