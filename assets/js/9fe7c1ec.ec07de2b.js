"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[46882],{39548:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>l,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"sql/postgresql/advanced/window_function_rank","title":"window_function_rank","description":"\ud83d\udcca Window Functions for Advanced Ranking and Aggregation","source":"@site/docs/sql/postgresql/advanced/window_function_rank.md","sourceDirName":"sql/postgresql/advanced","slug":"/sql/postgresql/advanced/window_function_rank","permalink":"/keep-being-human-dev/docs/sql/postgresql/advanced/window_function_rank","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/sql/postgresql/advanced/window_function_rank.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"upsert_on_conflict","permalink":"/keep-being-human-dev/docs/sql/postgresql/advanced/upsert_on_conflict"},"next":{"title":"aggregate_functions","permalink":"/keep-being-human-dev/docs/sql/postgresql/beginner/aggregate_functions"}}');var s=t(23420),r=t(65404);const a={},i=void 0,d={},c=[{value:"\ud83d\udcca Window Functions for Advanced Ranking and Aggregation",id:"-window-functions-for-advanced-ranking-and-aggregation",level:2}];function u(n){const e={code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"-window-functions-for-advanced-ranking-and-aggregation",children:"\ud83d\udcca Window Functions for Advanced Ranking and Aggregation"}),"\n",(0,s.jsxs)(e.p,{children:["Use window functions like ",(0,s.jsx)(e.code,{children:"ROW_NUMBER()"}),", ",(0,s.jsx)(e.code,{children:"RANK()"}),", and moving averages to perform calculations across sets of rows related to the current query row. These functions enable analytics directly in SQL without subqueries or temp tables. Partition results by one or more columns and define frame specifications for moving sums, averages, or percentiles."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT\n  user_id,\n  order_date,\n  amount,\n  SUM(amount) OVER (PARTITION BY user_id ORDER BY order_date\n                    ROWS BETWEEN 6 PRECEDING AND CURRENT ROW) AS moving_weekly_total,\n  RANK() OVER (PARTITION BY user_id ORDER BY amount DESC) AS rank_desc\nFROM orders;\n"})})]})}function l(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}},65404:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>i});var o=t(36672);const s={},r=o.createContext(s);function a(n){const e=o.useContext(r);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),o.createElement(r.Provider,{value:e},n.children)}}}]);