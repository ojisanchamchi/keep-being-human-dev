"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[33945],{20873:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>a,metadata:()=>o,toc:()=>r});const o=JSON.parse('{"id":"gems/simple_form/advanced/nested_associations_cocoon","title":"nested_associations_cocoon","description":"\ud83d\udd17 Handle Complex Nested Associations with simplefieldsfor and Cocoon","source":"@site/docs/gems/simple_form/advanced/nested_associations_cocoon.md","sourceDirName":"gems/simple_form/advanced","slug":"/gems/simple_form/advanced/nested_associations_cocoon","permalink":"/keep-being-human-dev/docs/gems/simple_form/advanced/nested_associations_cocoon","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/gems/simple_form/advanced/nested_associations_cocoon.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"custom_wrappers","permalink":"/keep-being-human-dev/docs/gems/simple_form/advanced/custom_wrappers"},"next":{"title":"simple_form_basic_form","permalink":"/keep-being-human-dev/docs/gems/simple_form/beginner/simple_form_basic_form"}}');var i=s(23420),t=s(65404);const a={},c=void 0,d={},r=[{value:"\ud83d\udd17 Handle Complex Nested Associations with <code>simple_fields_for</code> and Cocoon",id:"-handle-complex-nested-associations-with-simple_fields_for-and-cocoon",level:2}];function l(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h2,{id:"-handle-complex-nested-associations-with-simple_fields_for-and-cocoon",children:["\ud83d\udd17 Handle Complex Nested Associations with ",(0,i.jsx)(n.code,{children:"simple_fields_for"})," and Cocoon"]}),"\n",(0,i.jsxs)(n.p,{children:["For models with deeply nested ",(0,i.jsx)(n.code,{children:"has_many"})," relationships, combine ",(0,i.jsx)(n.code,{children:"simple_fields_for"})," with the Cocoon gem to dynamically add or remove child records. This approach maintains clean markup, keeps JS minimal, and ensures validations and callbacks fire correctly on both client and server."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ruby",children:"# app/views/articles/_form.html.erb\n<%= simple_form_for @article do |f| %>\n  <%= f.input :title %>\n\n  <div id=\"sections\">\n    <%= f.simple_fields_for :sections do |section| %>\n      <%= render 'section_fields', f: section %>\n    <% end %>\n    <%= link_to_add_association 'Add Section', f, :sections, partial: 'section_fields' %>\n  </div>\n\n  <%= f.button :submit %>\n<% end %>\n\n# app/views/articles/_section_fields.html.erb\n<div class=\"nested-fields\">\n  <%= f.input :heading %>\n  <%= f.input :body %>\n  <%= link_to_remove_association 'Remove', f %>\n</div>\n"})})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},65404:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var o=s(36672);const i={},t=o.createContext(i);function a(e){const n=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);