"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[77690],{65404:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var i=r(36672);const s={},t=i.createContext(s);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(t.Provider,{value:n},e.children)}},90631:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"rails/command_line/advanced/one_off_scripts_with_runner","title":"one_off_scripts_with_runner","description":"\ud83d\ude80 One-Off Scripts with rails runner","source":"@site/docs/rails/command_line/advanced/one_off_scripts_with_runner.md","sourceDirName":"rails/command_line/advanced","slug":"/rails/command_line/advanced/one_off_scripts_with_runner","permalink":"/keep-being-human-dev/docs/rails/command_line/advanced/one_off_scripts_with_runner","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rails/command_line/advanced/one_off_scripts_with_runner.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"customizing_cli_defaults_with_railsrc","permalink":"/keep-being-human-dev/docs/rails/command_line/advanced/customizing_cli_defaults_with_railsrc"},"next":{"title":"create_new_app","permalink":"/keep-being-human-dev/docs/rails/command_line/beginner/create_new_app"}}');var s=r(23420),t=r(65404);const a={},c=void 0,o={},l=[{value:"\ud83d\ude80 One-Off Scripts with <code>rails runner</code>",id:"-one-off-scripts-with-rails-runner",level:2}];function d(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h2,{id:"-one-off-scripts-with-rails-runner",children:["\ud83d\ude80 One-Off Scripts with ",(0,s.jsx)(n.code,{children:"rails runner"})]}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"rails runner"})," to execute Ruby code in the context of your Rails app without spinning up the console or web server. This is ideal for quick maintenance scripts, data migrations, or cron jobs. You can specify environment, require files, and even profile execution time."]}),"\n",(0,s.jsx)(n.p,{children:"Example: Run a class method in production and log output:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'RAILS_ENV=production bin/rails runner "User.cleanup_inactive" >> log/cleanup.log\n'})}),"\n",(0,s.jsx)(n.p,{children:"Example: Execute a standalone script file with access to your app\u2019s models:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"bin/rails runner path/to/scripts/update_stats.rb\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Example: Profile a code block using the ",(0,s.jsx)(n.code,{children:"Benchmark"})," library:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"bin/rails runner -e development \"require 'benchmark'; puts Benchmark.measure { Order.recalculate_monthly }\"\n"})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);