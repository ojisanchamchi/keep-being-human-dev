"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[68226],{6324:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>n,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"rails/active_storage/middle/direct_uploads_with_javascript","title":"direct_uploads_with_javascript","description":"\ud83d\ude80 Enable Direct Uploads in Forms","source":"@site/docs/rails/active_storage/middle/direct_uploads_with_javascript.md","sourceDirName":"rails/active_storage/middle","slug":"/rails/active_storage/middle/direct_uploads_with_javascript","permalink":"/keep-being-human-dev/docs/rails/active_storage/middle/direct_uploads_with_javascript","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rails/active_storage/middle/direct_uploads_with_javascript.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"resumable_multipart_upload","permalink":"/keep-being-human-dev/docs/rails/active_storage/expert/resumable_multipart_upload"},"next":{"title":"generating_and_displaying_variants","permalink":"/keep-being-human-dev/docs/rails/active_storage/middle/generating_and_displaying_variants"}}');var s=a(23420),i=a(65404);const n={},o=void 0,d={},c=[{value:"\ud83d\ude80 Enable Direct Uploads in Forms",id:"-enable-direct-uploads-in-forms",level:2}];function l(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"-enable-direct-uploads-in-forms",children:"\ud83d\ude80 Enable Direct Uploads in Forms"}),"\n",(0,s.jsxs)(t.p,{children:["Leverage direct uploads to S3 (or configured service) for faster user experience by bypassing your server. Just enable the ",(0,s.jsx)(t.code,{children:"direct_upload: true"})," option on your form helper and include the JavaScript package."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-erb",children:"<%= form_with(model: @document, local: true) do |form| %>\n  <%= form.file_field :file, direct_upload: true %>\n  <%= form.submit %>\n<% end %>\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'// app/javascript/packs/application.js\nimport "@rails/activestorage"\nRails.start()\nActiveStorage.start()\n'})}),"\n",(0,s.jsx)(t.p,{children:"When a user selects a file, the browser uploads it directly to the storage service and assigns a signed blob ID to your form. This reduces load on your Rails server and provides upload progress events you can hook into."})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},65404:(e,t,a)=>{a.d(t,{R:()=>n,x:()=>o});var r=a(36672);const s={},i=r.createContext(s);function n(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:n(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);