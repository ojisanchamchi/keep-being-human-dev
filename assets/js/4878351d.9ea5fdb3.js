"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[31225],{65404:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>c});var s=a(36672);const n={},r=s.createContext(n);function i(e){const t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(r.Provider,{value:t},e.children)}},91515:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>l,frontMatter:()=>i,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"rails/security/advanced/safe_raw_sql_with_binds","title":"safe_raw_sql_with_binds","description":"\ud83d\udee1\ufe0f Safe Raw SQL with Bind Parameters","source":"@site/docs/rails/security/advanced/safe_raw_sql_with_binds.md","sourceDirName":"rails/security/advanced","slug":"/rails/security/advanced/safe_raw_sql_with_binds","permalink":"/keep-being-human-dev/docs/rails/security/advanced/safe_raw_sql_with_binds","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rails/security/advanced/safe_raw_sql_with_binds.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"rack_attack_custom_throttle","permalink":"/keep-being-human-dev/docs/rails/security/advanced/rack_attack_custom_throttle"},"next":{"title":"sanitize_action_text_allowlists","permalink":"/keep-being-human-dev/docs/rails/security/advanced/sanitize_action_text_allowlists"}}');var n=a(23420),r=a(65404);const i={},c=void 0,d={},o=[{value:"\ud83d\udee1\ufe0f Safe Raw SQL with Bind Parameters",id:"\ufe0f-safe-raw-sql-with-bind-parameters",level:2}];function u(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"\ufe0f-safe-raw-sql-with-bind-parameters",children:"\ud83d\udee1\ufe0f Safe Raw SQL with Bind Parameters"}),"\n",(0,n.jsx)(t.p,{children:"When you need to execute complex SQL not covered by ActiveRecord, use parameter binding to avoid SQL injection. Bind parameters ensure that input values are properly escaped by the database adapter."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-ruby",children:'user_id = params[:user_id]\nresults = ActiveRecord::Base.connection.exec_query(\n  "SELECT * FROM users WHERE id = $1 AND active = $2",  \n  "SQL", \n  [[nil, user_id], [nil, true]]\n)\n'})}),"\n",(0,n.jsxs)(t.p,{children:["This uses positional parameters (",(0,n.jsx)(t.code,{children:"$1"}),", ",(0,n.jsx)(t.code,{children:"$2"}),") and an array of bind values, preventing malicious input from altering the query structure."]})]})}function l(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}}}]);