"use strict";(self.webpackChunkkeep_being_human_dev=self.webpackChunkkeep_being_human_dev||[]).push([[25986],{31362:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>p});const o=JSON.parse('{"id":"rails/assets/expert/custom_sprockets_processor","title":"custom_sprockets_processor","description":"\ud83d\udee0 Custom Sprockets Processor for Asset Optimization","source":"@site/docs/rails/assets/expert/custom_sprockets_processor.md","sourceDirName":"rails/assets/expert","slug":"/rails/assets/expert/custom_sprockets_processor","permalink":"/keep-being-human-dev/docs/rails/assets/expert/custom_sprockets_processor","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rails/assets/expert/custom_sprockets_processor.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"sprockets_helpers","permalink":"/keep-being-human-dev/docs/rails/assets/beginner/sprockets_helpers"},"next":{"title":"dynamic_asset_host_fallback","permalink":"/keep-being-human-dev/docs/rails/assets/expert/dynamic_asset_host_fallback"}}');var r=t(23420),n=t(65404);const i={},a=void 0,c={},p=[{value:"\ud83d\udee0 Custom Sprockets Processor for Asset Optimization",id:"-custom-sprockets-processor-for-asset-optimization",level:2}];function u(e){const s={code:"code",h2:"h2",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"-custom-sprockets-processor-for-asset-optimization",children:"\ud83d\udee0 Custom Sprockets Processor for Asset Optimization"}),"\n",(0,r.jsx)(s.p,{children:"By registering a custom Sprockets processor, you can optimize assets (e.g., SVG minification or image compression) as part of the pipeline. This hook runs during precompilation and ensures all assets meet your optimization criteria."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:"# config/initializers/sprockets_optimize.rb\nRails.application.config.assets.configure do |env|\n  env.register_preprocessor 'image/svg+xml', :optimize_svg do |context, data|\n    # Use svgo via CLI or ruby gem\n    optimized = `svgo --input \"#{context.filename}\" --output -`\n    optimized.presence || data\n  end\nend\n"})})]})}function m(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},65404:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>a});var o=t(36672);const r={},n=o.createContext(r);function i(e){const s=o.useContext(n);return o.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(n.Provider,{value:s},e.children)}}}]);